<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Worker Onboarding - KaryaSetu</title>
    <link rel="stylesheet" href="../css/theme.css">
    <link rel="stylesheet" href="../css/main.css">
    <link rel="stylesheet" href="onboarding.css">
</head>

<body>
    <div class="onboarding-container gradient-mesh">
        <div class="onboarding-card card-glass">
            <div class="onboarding-header">
                <div class="logo">
                    <span class="logo-icon">ðŸ”§</span>
                    <span class="logo-text">KaryaSetu</span>
                </div>
                <h1>Worker Profile Setup</h1>
                <p>Complete your profile to start receiving jobs</p>
            </div>

            <form class="onboarding-form" id="workerOnboardingForm">
                <div class="input-group">
                    <label class="input-label">Select Your Skills (Select all that apply)</label>
                    <div class="skills-grid">
                        <label class="skill-checkbox">
                            <input type="checkbox" value="mechanic">
                            <span>ðŸ”§ Mechanic</span>
                        </label>
                        <label class="skill-checkbox">
                            <input type="checkbox" value="plumber">
                            <span>ðŸš° Plumber</span>
                        </label>
                        <label class="skill-checkbox">
                            <input type="checkbox" value="electrician">
                            <span>âš¡ Electrician</span>
                        </label>
                        <label class="skill-checkbox">
                            <input type="checkbox" value="carpenter">
                            <span>ðŸªš Carpenter</span>
                        </label>
                        <label class="skill-checkbox">
                            <input type="checkbox" value="painter">
                            <span>ðŸŽ¨ Painter</span>
                        </label>
                        <label class="skill-checkbox">
                            <input type="checkbox" value="tailor">
                            <span>ðŸ§µ Tailor</span>
                        </label>
                        <label class="skill-checkbox">
                            <input type="checkbox" value="driver">
                            <span>ðŸš— Driver</span>
                        </label>
                        <label class="skill-checkbox">
                            <input type="checkbox" value="cleaner">
                            <span>ðŸ§¹ Cleaner</span>
                        </label>
                    </div>
                </div>

                <div class="input-group">
                    <label class="input-label">Experience Level</label>
                    <select class="input-field" id="experience" required>
                        <option value="">Select experience</option>
                        <option value="beginner">Beginner (0-2 years)</option>
                        <option value="skilled">Skilled (2-5 years)</option>
                        <option value="expert">Expert (5+ years)</option>
                    </select>
                </div>

                <div class="input-group">
                    <label class="input-label">Location</label>
                    <input type="text" class="input-field" id="location" placeholder="Enter your city" required>
                </div>

                <div class="input-group">
                    <label class="input-label">Hourly Rate (â‚¹)</label>
                    <input type="number" class="input-field" id="hourlyRate" placeholder="e.g., 200" min="50" required>
                </div>

                <div class="input-group">
                    <label class="input-label">Government ID (Aadhaar/PAN)</label>
                    <input type="file" class="input-field" id="govId" accept="image/*,.pdf">
                    <span class="input-helper">Upload for verification (optional for demo)</span>
                </div>

                <button type="submit" class="btn btn-primary btn-lg">Complete Setup</button>
            </form>
        </div>
    </div>

    <script src="../js/utils.js"></script>
    <script>
        // Check if user is logged in
        const userData = Storage.get('karyasetu_user');
        if (!userData || !userData.loggedIn) {
            window.location.href = '../auth/login.html';
        }

        document.getElementById('workerOnboardingForm').addEventListener('submit', (e) => {
            e.preventDefault();

            const skills = Array.from(document.querySelectorAll('.skill-checkbox input:checked')).map(cb => cb.value);

            if (skills.length === 0) {
                showToast('Please select at least one skill', 'error');
                return;
            }

            const profile = {
                skills,
                experience: document.getElementById('experience').value,
                location: document.getElementById('location').value,
                hourlyRate: document.getElementById('hourlyRate').value,
                role: 'worker',
                verified: false,
                rating: 0,
                jobsCompleted: 0,
                createdAt: new Date().toISOString()
            };

            Storage.set('karyasetu_user_profile', profile);
            showToast('Profile created successfully!', 'success');

            setTimeout(() => {
                window.location.href = '../dashboard/dashboard.html';
            }, 1000);
        });
    </script>
</body>

</html>